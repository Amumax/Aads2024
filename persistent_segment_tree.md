## Полностью персистентное дерево отрезков
Позволяем отдавать значение в точке, на отрезке и изменять в точке
### Идея
1. Будем хранить дерево отрезков как настоящее дерево. Храним указатель на корень и в каждой node'е указатели на детей
2. Будем хранить массив корней деревьев отрезков.
3. При запросе обновления старой версии будем порождать новый корень и новую ветку.
4. В новой ветке немодифицированные дети ссылаются на узлы в прошлой версии. А для тех, которые будем модифицировать -- создаем копии
5. Операция $Get(l, r)$ не изменяет дерево, так что ее реализацию тоже менять не будем
6. Чтобы получить информацию об определенной версии просто найдем нужный корень и запустим от него $Get(l, r)$

### Корректность 
- Поскольку копируются только узлы вдоль измененного пути, а неизмененные части остаются прежними, свойства ДО сохраняются в каждой версии.
- Так как у каждой версии есть отдельный корень, нет пересечения между версиями. А если какая-то вершина лежит в двух версиях, то в двух версия эта часть массива не менялась, поэтму все корректно

### Что по асимптотике?
За каждое изменение создается новый копированный путь, поэтому в худшем случае требуется $O(\log{N})$ дополнительного пространства и собственно потратим $O(\log{N})$ времени на спуск от корня до листа. Но при этом высота дерева не меняется. Так что поиск работает так же за $O(\log{N})$
